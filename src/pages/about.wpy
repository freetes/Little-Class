
<style lang="less">
.container{
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: flex-start;
  width: 100%;
  overflow: hidden;
  color: black;

  >swiper{
    width: 100%;
    height: 240px;

    image{
      width: 100%;
    }
  }

  >.words-container{
    display: flex;
    width: 100%;
    min-height: 500px;
    flex: 1 0 auto;
    flex-direction: column;
    justify-content: flex-start;
    align-items: flex-start;
    margin-top: 20px;

    >text{
      position: relative;
      background-color: white;
      padding: 5px 15px;
      margin-bottom: 15px;
      border-radius: 15px;
      line-height: 20px;
      font-size: 32rpx;
      word-break: keep-all;
      white-space: nowrap;
      font-weight: bold;
      animation: showIn 10s linear 0s infinite;

      @keyframes showIn {
        from {
          left: 100%;
        }
        to {
          left: -100%;
        }
      }
    }
  }

  >.futures{
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    width: 100%;
    padding-bottom: 10px;

    >view{
      width: 100%;
      text-align: center;
      font-size: 26rpx;
      color: gray;
      padding-bottom: 10px;

      >.bold{
        font-weight: bold;
        color: black;
        padding: 0 2px;
      }
    }

    >text{
      width: 100%;
      text-align: center;
      font-weight: bold;
      font-size: 26rpx;
    }
  }
}
</style>
<template>
  <view class="container">

    <swiper autoplay="{{ true }}" circular="{{ true }}">
      <block wx:for="{{imgUrls}}">
        <swiper-item>
          <image bindtap="previewImage('{{item}}')" src="{{item}}" class="slide-image" lazy-load="{{ true }}" mode="aspectFill"></image>
        </swiper-item>
      </block>
    </swiper>

    <view class="words-container">
      <text>è¿™ä¸ªUIæ˜¯çœŸçš„å¥½çœ‹è€¶âœŒï¸</text>
      <text style="margin-left: 20px;">ç­¾åˆ°ç¡®å®è§£å†³äº†å¾ˆå¤šä¸æ–¹ä¾¿ï¼ŒèµğŸ‘</text>
      <text style="margin-left: 40px;">è¯é¢˜åŠŸèƒ½çœ‹èµ·æ¥å¾ˆé«˜å¤§ä¸Šï¼Œç”¨èµ·æ¥ä¹Ÿå¥½ç”¨é¸­ğŸ˜Š</text>
      <text style="margin-left: 70px;">æœ€èµçš„è¿˜æ˜¯äº’åŠ¨ï¼Œèšä¼šå†ä¹Ÿä¸ä¼šæ— èŠå•¦ï½</text>
    </view>

    <view class="futures">
      <view>
        <text>æ€»è®¡</text>
        <text class="bold">{{ counts.groupCount }}</text>
        <text>ä¸ªç¾¤ç»„ï¼Œ</text>
        <text class="bold">{{ counts.checkCount }}</text>
        <text>æ¬¡ç­¾åˆ°ï¼Œ</text>
        <text class="bold">{{ counts.oneWordCount }}</text>
        <text>æ¡äº’åŠ¨ï¼Œ</text>
        <text class="bold">{{ counts.noteCount }}</text>
        <text>ä¸ªè¯é¢˜</text>
      </view>
      <text>made with â¤ï¸</text>
    </view>
  </view>
</template>

<script>
  import wepy from 'wepy'
  import request from '@/utils/request.js'

  export default class Index extends wepy.page {
    config = {
      navigationBarTitleText: 'å…³äº',
      navigationBarBackgroundColor: '#ffffff'
    }
    
    data = {
      imgUrls: [
        'https://api.grayclass.site/image/post1.png',
        'https://api.grayclass.site/image/post2.png',
        'https://api.grayclass.site/image/post3.jpg'
      ],
      counts: {
        groupCount: 0,
        checkCount: 0,
        oneWordCount: 0,
        noteCount: 0
      }
    }

    methods = {
      previewImage(url){
        let self = this

        wx.previewImage({
          urls: self.imgUrls,
          current: url
        })
      },
    }

    onShow() {
      let self = this

      request.get('/getAllDataCount')
      .then(res=>{
        self.counts = res.data
      })
    }
  }
</script>
